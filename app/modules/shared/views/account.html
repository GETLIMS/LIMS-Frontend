<form novalidate ng-submit="save()">
    <md-card layout-padding>
        <div layout="row">
            <md-input-container flex>
                <label>First name</label>
                <input ng-model="user.first_name" md-maxlength="30">
            </md-input-container>
            <md-input-container flex>
                <label>Last name</label>
                <input ng-model="user.last_name" md-maxlength="30">
            </md-input-container>
        </div>
        <div layout="row">
            <span flex></span>
            <md-button type="submit" class="md-primary">Save</md-button>
        </div>
    </md-card>
</form>
<form ng-submit="changePassword()">
    <md-card layout-padding>
        <h3 class="section-subheader">Change password</h3>
        <div layout="row">
            <md-input-container flex>
                <label>New password</label>
                <input type="password" ng-model="new_password">
            </md-input-container>
            <md-input-container flex>
                <label>Confirm new password</label>
                <input type="password" ng-model="confirm_new_password">
            </md-input-container>
        </div>
        <p ng-show="noMatch">Passwords must match to be changed</p>
        <div layout="row">
            <span flex></span>
            <md-button type="submit" class="md-primary">Change password</md-button>
        </div>
    </md-card>
</form>
<form ng-submit="updateAddress()">
    <md-card layout-padding>
        <h3 class="section-subheader">Address</h3>
        <div ng-repeat="address in user.addresses" layout="column">
            <md-input-container flex>
                <label>Institution name</label>
                <input ng-model="address.institution_name" required>
            </md-input-container>
            <md-input-container flex>
                <label>Address 1</label>
                <input ng-model="address.address_1" required>
            </md-input-container>
            <md-input-container flex>
                <label>Address 2</label>
                <input ng-model="address.address_2">
            </md-input-container>
            <md-input-container flex>
                <label>City</label>
                <input ng-model="address.city" required>
            </md-input-container>
            <md-input-container flex>
                <label>Postcode</label>
                <input ng-model="address.postcode" required>
            </md-input-container>
            <md-input-container flex>
                <label>Country</label>
                <md-select name="country" ng-model="address.country" required>
                    <md-option ng-repeat="c in countries"
                               ng-value="c">
                        {{ c }}
                    </md-option>
                </md-select>
            </md-input-container>
        </div>
        <div layout="row">
            <md-button ng-show="user.addresses.length == 0"
                       ng-click="addAddress()">Add new address</md-button>
            <span flex></span>
            <md-button ng-disabled="user.addresses.length == 0"
                       type="submit" class="md-primary">Save</md-button>
        </div>
    </md-card>
</form>
